{
  "name": "main Agriculture Agent",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        416,
        1312
      ],
      "id": "cbabc43f-9ef5-4987-a1b1-ec0e6266bd5c",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "YmVEpJdwSiBjPaX5",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.sarvam.ai/text-lid",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api-subscription-key",
              "value": "sk_3xcldvun_Lo8XmClsM72oLYLMldJWVWIN"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "input",
              "value": "={{ $('Edit Fields2').item.json.final_user_input }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -176,
        864
      ],
      "id": "58669037-aa13-4b38-b011-804580208771",
      "name": "language identification API"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.sarvam.ai/translate",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api-subscription-key",
              "value": "sk_3xcldvun_Lo8XmClsM72oLYLMldJWVWIN"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "input",
              "value": "={{ $json.final_input }}"
            },
            {
              "name": "source_language_code",
              "value": "={{ $('language identification API').item.json.language_code }}"
            },
            {
              "name": "target_language_code",
              "value": "en-IN"
            },
            {
              "name": "mode",
              "value": "formal"
            },
            {
              "name": "model",
              "value": "sarvam-translate:v1"
            },
            {
              "name": "numerals_format",
              "value": "native"
            },
            {
              "name": "speaker_gender",
              "value": "Male"
            },
            {
              "name": "enable_preprocessing",
              "value": "false"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        400,
        752
      ],
      "id": "3719ea6a-5c79-4e25-a05c-30d275b6a7c0",
      "name": "language conversation  API"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "81cc82e5-4a52-4831-b692-1a657596bb39",
              "leftValue": "={{ $json.source_language }}",
              "rightValue": "en-IN",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        144,
        864
      ],
      "id": "714e8746-8146-4948-94fe-53826b26b55a",
      "name": "If"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "92e3b90e-c592-40ad-9a49-3188b09d3b4e",
              "name": "final_input",
              "value": "={{ $json.translated_text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        592,
        752
      ],
      "id": "177daf7f-6732-4e9b-ab8a-ab00e2e319f3",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "030ea709-699b-4ee0-86c2-33b5c61b7bb5",
              "name": "final_input",
              "value": "={{ $('Edit Fields2').item.json.final_user_input }}",
              "type": "string"
            },
            {
              "id": "2b9a4657-250e-49e3-8d58-271890130b5f",
              "name": "source_language",
              "value": "={{ $json.language_code }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -16,
        864
      ],
      "id": "8d7b874f-e7e4-4178-bd2c-e1d3441108fe",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "80c918ec-d0c5-4a68-8828-ddb22494a3e2",
              "name": "source_language",
              "value": "en-IN",
              "type": "string"
            },
            {
              "id": "66ea944e-e2d0-479a-a75a-9885bbe2b3d5",
              "name": "final_user_input",
              "value": "={{ $json.input1 }}",
              "type": "string"
            },
            {
              "id": "68b093a4-8c2c-4a2e-8b5d-9b117881a4ec",
              "name": "source",
              "value": "={{ $json.source }}",
              "type": "string"
            },
            {
              "id": "6c1c667f-38ad-431f-8b51-44c983cb2c7d",
              "name": "triggered_agents",
              "value": "[]",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -512,
        864
      ],
      "id": "f7afbdc3-4266-42b9-a774-c592249250d3",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hi there! 👋\nMy name is AgroAssist. How can I assist you today?",
        "options": {
          "subtitle": "A Zero-Code, Multilingual AI Platform Delivering Instant Agro-Advisory & Real-Time Micro-Credit for India’s Smallholder Farmers via WhatsApp & Web",
          "title": "AgroAssist-TerraCred",
          "customCss": ":root {\n  /* Agriculture-inspired Colors - More Contrast for Better Readability */\n  --chat--color-primary: #15803d;\n  --chat--color-primary-shade-50: #166534;\n  --chat--color-primary-shade-100: #14532d;\n  --chat--color-secondary: #d97706;\n  --chat--color-secondary-shade-50: #b45309;\n  --chat--color-secondary-shade-100: #92400e;\n  --chat--color-accent: #dc2626;\n  --chat--color-accent-shade-50: #b91c1c;\n  --chat--color-accent-shade-100: #991b1b;\n  --chat--color-white: #ffffff;\n  --chat--color-light: #f7fee7;\n  --chat--color-light-shade-50: #ecfccb;\n  --chat--color-light-shade-100: #d9f99d;\n  --chat--color-medium: #65a30d;\n  --chat--color-dark: #1a5d1a;\n  --chat--color-disabled: #9ca3af;\n  --chat--color-typing: #86efac;\n  --chat--color-soil: #8b4513;\n  --chat--color-sky: #0ea5e9;\n  --chat--color-sun: #fbbf24;\n\n  /* Enhanced Layout - Better for Farmers */\n  --chat--spacing: 1.25rem;\n  --chat--border-radius: 1.25rem;\n  --chat--transition-duration: 0.3s;\n  --chat--font-family: (\n    'Inter',\n    'Roboto',\n    'Segoe UI',\n    'Helvetica Neue',\n    'Arial',\n    'sans-serif'\n  );\n\n  /* Window Dimensions - Much More Compact */\n  --chat--window--width: 320px;\n  --chat--window--height: 450px;\n  --chat--window--bottom: var(--chat--spacing);\n  --chat--window--right: var(--chat--spacing);\n  --chat--window--z-index: 9999;\n  --chat--window--border: 1px solid var(--chat--color-primary);\n  --chat--window--border-radius: 1rem;\n  --chat--window--margin-bottom: var(--chat--spacing);\n  --chat--window--box-shadow: \n    0 15px 30px -8px rgba(21, 128, 61, 0.2),\n    0 0 0 1px rgba(21, 128, 61, 0.08),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n\n  /* Header Styles - Compact and Proportional */\n  --chat--header-height: auto;\n  --chat--header--padding: 0.75rem 1rem;\n  --chat--header--background: linear-gradient(135deg, #14532d 0%, #15803d 50%, #16a34a 100%);\n  --chat--header--color: var(--chat--color-white);\n  --chat--header--border-top: none;\n  --chat--header--border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n  --chat--header--border-left: none;\n  --chat--header--border-right: none;\n  --chat--heading--font-size: 1.25rem;\n  --chat--subtitle--font-size: 0.75rem;\n  --chat--subtitle--line-height: 1.2;\n  --chat--subtitle--margin-top: 0.125rem;\n\n  /* Message Styles - Compact and Readable */\n  --chat--message--font-size: 0.8rem;\n  --chat--message--padding: 0.625rem 1rem;\n  --chat--message--border-radius: 1rem;\n  --chat--message-line-height: 1.4;\n  --chat--message--margin-bottom: 0.625rem;\n  --chat--message--bot--background: linear-gradient(135deg, #f7fee7 0%, #ecfccb 100%);\n  --chat--message--bot--color: #1a5d1a;\n  --chat--message--bot--border: 1px solid #d9f99d;\n  --chat--message--bot--box-shadow: \n    0 4px 15px -3px rgba(21, 128, 61, 0.15),\n    0 2px 4px -1px rgba(0, 0, 0, 0.08);\n  --chat--message--user--background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  --chat--message--user--color: #ffffff;\n  --chat--message--user--border: none;\n  --chat--message--user--box-shadow: \n    0 4px 15px -3px rgba(21, 128, 61, 0.3),\n    0 2px 4px -1px rgba(0, 0, 0, 0.08);\n  --chat--message--pre--background: rgba(21, 128, 61, 0.1);\n  --chat--messages-list--padding: 0.75rem;\n\n  /* Toggle Button - Much More Compact */\n  --chat--toggle--size: 50px;\n  --chat--toggle--width: var(--chat--toggle--size);\n  --chat--toggle--height: var(--chat--toggle--size);\n  --chat--toggle--border-radius: 50%;\n  --chat--toggle--background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  --chat--toggle--hover--background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  --chat--toggle--active--background: linear-gradient(135deg, #14532d 0%, #1a5d1a 100%);\n  --chat--toggle--color: var(--chat--color-white);\n  --chat--toggle--box-shadow: \n    0 15px 30px -8px rgba(21, 128, 61, 0.3),\n    0 8px 8px -4px rgba(0, 0, 0, 0.08),\n    0 0 0 1px rgba(255, 255, 255, 0.1);\n  --chat--toggle--hover--box-shadow: \n    0 20px 40px -10px rgba(21, 128, 61, 0.4),\n    0 10px 10px -5px rgba(0, 0, 0, 0.1),\n    0 0 0 1px rgba(255, 255, 255, 0.15);\n\n  /* Input Area - Compact and Accessible */\n  --chat--textarea--height: 40px;\n  --chat--textarea--max-height: 100px;\n  --chat--input--font-size: 0.8rem;\n  --chat--input--border: 1px solid #d9f99d;\n  --chat--input--border-radius: 0.75rem;\n  --chat--input--padding: 0.5rem 0.75rem;\n  --chat--input--background: linear-gradient(135deg, #f7fee7 0%, #ecfccb 100%);\n  --chat--input--text-color: #1a5d1a;\n  --chat--input--line-height: 1.3;\n  --chat--input--placeholder--font-size: var(--chat--input--font-size);\n  --chat--input--border-active: 1px solid #15803d;\n  --chat--input--left--panel--width: 1.5rem;\n  --chat--input--box-shadow: \n    0 2px 4px -1px rgba(0, 0, 0, 0.08),\n    0 1px 2px -1px rgba(0, 0, 0, 0.04);\n\n  /* Button Styles - Compact and Clickable */\n  --chat--button--color: var(--chat--color-white);\n  --chat--button--background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  --chat--button--padding: 0.625rem 1.25rem;\n  --chat--button--border-radius: 0.75rem;\n  --chat--button--hover--color: var(--chat--color-white);\n  --chat--button--hover--background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  --chat--close--button--color-hover: #dc2626;\n  --chat--button--box-shadow: \n    0 3px 4px -1px rgba(21, 128, 61, 0.25),\n    0 1px 3px -1px rgba(0, 0, 0, 0.08);\n\n  /* Send and File Buttons - Compact */\n  --chat--input--send--button--background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  --chat--input--send--button--color: var(--chat--color-white);\n  --chat--input--send--button--background-hover: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  --chat--input--send--button--color-hover: var(--chat--color-white);\n  --chat--input--file--button--background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n  --chat--input--file--button--color: #ffffff;\n  --chat--input--file--button--background-hover: linear-gradient(135deg, #b45309 0%, #92400e 100%);\n  --chat--input--file--button--color-hover: #ffffff;\n  --chat--files-spacing: 0.5rem;\n\n  /* Body and Footer - Better Contrast */\n  --chat--body--background: linear-gradient(135deg, #f7fee7 0%, #ecfccb 50%, #d9f99d 100%);\n  --chat--footer--background: linear-gradient(135deg, #14532d 0%, #15803d 100%);\n  --chat--footer--color: #ffffff;\n  --chat--footer--border-top: 3px solid rgba(255, 255, 255, 0.3);\n}\n\n\n/* Enhanced message styling for farmers */\n.chat-message {\n  max-width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: left;\n  position: relative;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 3px solid transparent;\n  font-weight: 400;\n  font-family: 'Inter', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif;\n  letter-spacing: 0.01em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.chat-message:hover {\n  transform: translateY(-2px) scale(1.02);\n  box-shadow: \n    0 20px 25px -5px rgba(21, 128, 61, 0.3),\n    0 10px 10px -5px rgba(0, 0, 0, 0.1);\n}\n\n/* Bot message with much more compact styling */\n.chat-message-bot {\n  margin-right: auto;\n  margin-left: 0;\n  border-bottom-left-radius: 0.5rem;\n  position: relative;\n  background: linear-gradient(135deg, #f7fee7 0%, #ecfccb 100%) !important;\n  color: #1a5d1a !important;\n  border: 1px solid #d9f99d !important;\n  box-shadow: \n    0 4px 15px -3px rgba(21, 128, 61, 0.15),\n    0 2px 4px -1px rgba(0, 0, 0, 0.08) !important;\n  padding: 0.625rem 1rem !important;\n  border-radius: 1rem !important;\n  max-width: 90% !important;\n  margin-bottom: 0.625rem !important;\n  font-size: 0.8rem !important;\n  line-height: 1.4 !important;\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n.chat-message-bot::before {\n  content: '🌱';\n  position: absolute;\n  top: -8px;\n  left: -8px;\n  font-size: 1.5rem;\n  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2));\n  animation: leafFloat 3s ease-in-out infinite;\n}\n\n/* User message with larger tractor decoration */\n.chat-message-user {\n  margin-left: auto;\n  margin-right: 0;\n  border-bottom-right-radius: 0.75rem;\n  position: relative;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%) !important;\n  color: #ffffff !important;\n  border: 3px solid #15803d !important;\n  box-shadow: \n    0 10px 30px -5px rgba(21, 128, 61, 0.4),\n    0 6px 8px -1px rgba(0, 0, 0, 0.1) !important;\n  padding: 1rem 1.5rem !important;\n  border-radius: 1.5rem !important;\n  max-width: 90% !important;\n  margin-bottom: 1rem !important;\n  font-size: 1rem !important;\n  line-height: 1.6 !important;\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n/* User message with much more compact styling */\n.chat-message-user {\n  margin-left: auto;\n  margin-right: 0;\n  border-bottom-right-radius: 0.5rem;\n  position: relative;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%) !important;\n  color: #ffffff !important;\n  border: 1px solid #15803d !important;\n  box-shadow: \n    0 4px 15px -3px rgba(21, 128, 61, 0.3),\n    0 2px 4px -1px rgba(0, 0, 0, 0.08) !important;\n  padding: 0.625rem 1rem !important;\n  border-radius: 1rem !important;\n  max-width: 90% !important;\n  margin-bottom: 0.625rem !important;\n  font-size: 0.8rem !important;\n  line-height: 1.4 !important;\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n.chat-message-user::after {\n  content: '🚜';\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  font-size: 1.5rem;\n  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2));\n  animation: tractorBounce 2s ease-in-out infinite;\n}\n\n/* Ensure user messages are always visible */\n.chat-message-user,\n.chat-message-user * {\n  color: #ffffff !important;\n  background: transparent !important;\n}\n\n/* Fix for any transparent or faint user messages */\n.chat-message[data-message-type=\"user\"],\n.chat-message.user-message,\n.chat-message[class*=\"user\"],\n.chat-message[class*=\"User\"] {\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%) !important;\n  color: #ffffff !important;\n  border: 3px solid #15803d !important;\n  box-shadow: \n    0 10px 30px -5px rgba(21, 128, 61, 0.4),\n    0 6px 8px -1px rgba(0, 0, 0, 0.1) !important;\n  padding: 1rem 1.5rem !important;\n  border-radius: 1.5rem !important;\n  max-width: 90% !important;\n  margin-bottom: 1rem !important;\n  font-size: 1rem !important;\n  line-height: 1.6 !important;\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n  margin-left: auto !important;\n  margin-right: 0 !important;\n  text-align: left !important;\n}\n\n/* Override any transparent backgrounds */\n.chat-message[data-message-type=\"user\"] *,\n.chat-message.user-message *,\n.chat-message[class*=\"user\"] *,\n.chat-message[class*=\"User\"] * {\n  color: #ffffff !important;\n  background: transparent !important;\n}\n\n/* Fix for JSON debug messages - hide them */\n.chat-message:has(code),\n.chat-message pre,\n.chat-message[style*=\"opacity: 0\"],\n.chat-message[style*=\"transparent\"] {\n  display: none !important;\n}\n\n/* Ensure proper message spacing */\n.chat-messages .chat-message {\n  margin-bottom: 1rem !important;\n  display: block !important;\n}\n\n/* Force visibility for any hidden messages */\n.chat-message {\n  opacity: 1 !important;\n  visibility: visible !important;\n  display: block !important;\n}\n\n/* Input area with nature theme - Larger and more accessible */\n.chat-input-area {\n  background: linear-gradient(135deg, #14532d 0%, #15803d 100%);\n  border-top: 4px solid rgba(255, 255, 255, 0.3);\n  position: relative;\n  overflow: hidden;\n  padding: 1rem;\n}\n\n.chat-input-area::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, #d97706, #15803d, #0ea5e9, #d97706);\n  animation: rainbowFlow 4s linear infinite;\n}\n\n/* Toggle button with farm theme - Larger and more visible */\n.chat-toggle {\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n\n.chat-toggle::before {\n  content: '🌾';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 2.5rem;\n  z-index: 1;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n}\n\n.chat-toggle:hover {\n  transform: scale(1.15) rotate(5deg);\n}\n\n.chat-toggle:active {\n  transform: scale(0.95);\n}\n\n/* Message animations - More pronounced */\n.chat-message {\n  animation: messageSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes messageSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(25px) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n@keyframes leafFloat {\n  0%, 100% { transform: translateY(0) rotate(0deg); }\n  50% { transform: translateY(-8px) rotate(8deg); }\n}\n\n@keyframes tractorBounce {\n  0%, 100% { transform: translateY(0) rotate(0deg); }\n  50% { transform: translateY(-5px) rotate(3deg); }\n}\n\n@keyframes rainbowFlow {\n  0% { transform: translateX(-100%); }\n  100% { transform: translateX(100%); }\n}\n\n/* Scrollbar styling with nature theme - Larger */\n.chat-messages::-webkit-scrollbar {\n  width: 12px;\n}\n\n.chat-messages::-webkit-scrollbar-track {\n  background: linear-gradient(180deg, #f7fee7, #ecfccb);\n  border-radius: 6px;\n  border: 1px solid #d9f99d;\n}\n\n.chat-messages::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, #15803d, #166534);\n  border-radius: 6px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n}\n\n.chat-messages::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, #166534, #14532d);\n}\n\n/* Special effects for farmer appeal - More prominent */\n.chat-header::after {\n  content: '🌿 🌻 🌿';\n  position: absolute;\n  bottom: -12px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 1.5rem;\n  letter-spacing: 1.5rem;\n  animation: natureWave 5s ease-in-out infinite;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n}\n\n@keyframes natureWave {\n  0%, 100% { transform: translateX(-50%) rotate(0deg); }\n  25% { transform: translateX(-50%) rotate(3deg); }\n  75% { transform: translateX(-50%) rotate(-3deg); }\n}\n\n/* Weather indicator - Larger */\n.chat-header::before {\n  content: '☀️';\n  position: absolute;\n  top: 1.25rem;\n  right: 1.25rem;\n  font-size: 2rem;\n  animation: sunRotate 12s linear infinite;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n}\n\n@keyframes sunRotate {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n/* Dark/Light Mode Toggle Button */\n.chat-header::before {\n  content: '☀️';\n  position: absolute;\n  top: 1.25rem;\n  right: 1.25rem;\n  font-size: 2rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n  z-index: 10;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 50%;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(4px);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n}\n\n.chat-header::before:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n/* Actual Toggle Button Styling */\n.theme-toggle-btn {\n  position: absolute;\n  top: 1.25rem;\n  right: 1.25rem;\n  font-size: 2rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n  z-index: 10;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 50%;\n  width: 48px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(4px);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  border: none;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  font-family: inherit;\n}\n\n.theme-toggle-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.theme-toggle-btn:active {\n  transform: scale(0.95);\n  transition: transform 0.1s ease;\n}\n\n/* Dark mode toggle button states */\n.chat-window.dark-mode .theme-toggle-btn {\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.4));\n}\n\n.chat-window.dark-mode .theme-toggle-btn:hover {\n  background: rgba(0, 0, 0, 0.4);\n  transform: scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);\n}\n\n/* Button text styling */\n.chat-button,\n.chat-send-button,\n.chat-file-button,\n.chat-toggle {\n  font-family: 'Inter', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif;\n  font-weight: 500;\n  letter-spacing: 0.02em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* Dark mode styles */\n.chat-window.dark-mode {\n  --chat--color-primary: #059669;\n  --chat--color-primary-shade-50: #047857;\n  --chat--color-primary-shade-100: #065f46;\n  --chat--color-secondary: #f59e0b;\n  --chat--color-secondary-shade-50: #d97706;\n  --chat--color-secondary-shade-100: #b45309;\n  --chat--color-white: #1f2937;\n  --chat--color-light: #374151;\n  --chat--color-light-shade-50: #4b5563;\n  --chat--color-light-shade-100: #6b7280;\n  --chat--color-medium: #10b981;\n  --chat--color-dark: #d1fae5;\n  --chat--color-disabled: #6b7280;\n  --chat--color-typing: #34d399;\n  --chat--color-soil: #92400e;\n  --chat--color-sky: #0ea5e9;\n  --chat--color-sun: #fbbf24;\n  \n  --chat--window--background: #1f2937;\n  --chat--window--border: 3px solid #059669;\n  --chat--window--box-shadow: \n    0 25px 50px -12px rgba(5, 150, 105, 0.4),\n    0 0 0 2px rgba(5, 150, 105, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  \n  --chat--header--background: linear-gradient(135deg, #065f46 0%, #047857 50%, #059669 100%);\n  --chat--header--color: #f9fafb;\n  --chat--header--border-bottom: 3px solid rgba(255, 255, 255, 0.2);\n  \n  --chat--message--bot--background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n  --chat--message--bot--color: #f9fafb;\n  --chat--message--bot--border: 3px solid #6b7280;\n  --chat--message--bot--box-shadow: \n    0 10px 30px -5px rgba(5, 150, 105, 0.3),\n    0 6px 8px -1px rgba(0, 0, 0, 0.2);\n  \n  --chat--message--user--background: linear-gradient(135deg, #059669 0%, #047857 100%);\n  --chat--message--user--color: #ffffff;\n  --chat--message--user--border: 3px solid #059669;\n  --chat--message--user--box-shadow: \n    0 10px 30px -5px rgba(5, 150, 105, 0.5),\n    0 6px 8px -1px rgba(0, 0, 0, 0.2);\n  \n  --chat--body--background: linear-gradient(135deg, #374151 0%, #4b5563 50%, #6b7280 100%);\n  --chat--footer--background: linear-gradient(135deg, #065f46 0%, #047857 100%);\n  --chat--footer--color: #f9fafb;\n  --chat--footer--border-top: 3px solid rgba(255, 255, 255, 0.2);\n  \n  --chat--input--background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n  --chat--input--text-color: #f9fafb;\n  --chat--input--border: 2px solid #6b7280;\n  --chat--input--border-active: 3px solid #059669;\n  \n  --chat--toggle--background: linear-gradient(135deg, #059669 0%, #047857 100%);\n  --chat--toggle--hover--background: linear-gradient(135deg, #047857 0%, #065f46 100%);\n  --chat--toggle--active--background: linear-gradient(135deg, #065f46 0%, #064e3b 100%);\n  --chat--toggle--box-shadow: \n    0 25px 50px -12px rgba(5, 150, 105, 0.6),\n    0 15px 15px -5px rgba(0, 0, 0, 0.2),\n    0 0 0 2px rgba(255, 255, 255, 0.1);\n  \n  --chat--input--send--button--background: linear-gradient(135deg, #059669 0%, #047857 100%);\n  --chat--input--send--button--background-hover: linear-gradient(135deg, #047857 0%, #065f46 100%);\n  --chat--input--file--button--background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n  --chat--input--file--button--background-hover: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n}\n\n/* Dark mode message styling */\n.chat-window.dark-mode .chat-message-bot {\n  background: linear-gradient(135deg, #374151 0%, #4b5563 100%) !important;\n  color: #f9fafb !important;\n  border: 3px solid #6b7280 !important;\n  box-shadow: \n    0 10px 30px -5px rgba(5, 150, 105, 0.3),\n    0 6px 8px -1px rgba(0, 0, 0, 0.2) !important;\n}\n\n.chat-window.dark-mode .chat-message-user {\n  background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;\n  color: #ffffff !important;\n  border: 3px solid #059669 !important;\n  box-shadow: \n    0 10px 30px -5px rgba(5, 150, 105, 0.5),\n    0 6px 8px -1px rgba(0, 0, 0, 0.2) !important;\n}\n\n.chat-window.dark-mode .chat-message-user,\n.chat-window.dark-mode .chat-message-user * {\n  color: #ffffff !important;\n  background: transparent !important;\n}\n\n/* Dark mode input styling */\n.chat-window.dark-mode .chat-input,\n.chat-window.dark-mode .chat-textarea,\n.chat-window.dark-mode textarea.chat-input {\n  background: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n  color: #f9fafb;\n  border: 2px solid #6b7280;\n}\n\n.chat-window.dark-mode .chat-input:focus {\n  border-color: #059669;\n  box-shadow: \n    0 0 0 4px rgba(5, 150, 105, 0.3),\n    0 10px 30px -5px rgba(5, 150, 105, 0.2);\n}\n\n.chat-window.dark-mode .chat-input::placeholder {\n  color: #9ca3af;\n  opacity: 0.7;\n}\n\n/* Dark mode scrollbar */\n.chat-window.dark-mode .chat-messages::-webkit-scrollbar-track {\n  background: linear-gradient(180deg, #374151, #4b5563);\n  border: 1px solid #6b7280;\n}\n\n.chat-window.dark-mode .chat-messages::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, #059669, #047857);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n}\n\n.chat-window.dark-mode .chat-messages::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, #047857, #065f46);\n}\n\n/* Dark mode body background */\n.chat-window.dark-mode .chat-body {\n  background-image: \n    radial-gradient(circle at 20% 80%, rgba(146, 64, 14, 0.2) 0%, transparent 50%),\n    radial-gradient(circle at 80% 20%, rgba(5, 150, 105, 0.2) 0%, transparent 50%),\n    linear-gradient(135deg, #374151 0%, #4b5563 50%, #6b7280 100%);\n}\n\n/* Dark mode input area */\n.chat-window.dark-mode .chat-input-area {\n  background: linear-gradient(135deg, #065f46 0%, #047857 100%);\n  border-top: 4px solid rgba(255, 255, 255, 0.2);\n}\n\n/* Dark mode toggle button */\n.chat-window.dark-mode .chat-toggle {\n  background: linear-gradient(135deg, #059669 0%, #047857 100%);\n  box-shadow: \n    0 25px 50px -12px rgba(5, 150, 105, 0.6),\n    0 15px 15px -5px rgba(0, 0, 0, 0.2),\n    0 0 0 2px rgba(255, 255, 255, 0.1);\n}\n\n.chat-window.dark-mode .chat-toggle:hover {\n  background: linear-gradient(135deg, #047857 0%, #065f46 100%);\n}\n\n/* Dark mode send and file buttons */\n.chat-window.dark-mode .chat-send-button {\n  background: linear-gradient(135deg, #059669 0%, #047857 100%);\n}\n\n.chat-window.dark-mode .chat-send-button:hover {\n  background: linear-gradient(135deg, #047857 0%, #065f46 100%);\n}\n\n.chat-window.dark-mode .chat-file-button {\n  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n}\n\n.chat-window.dark-mode .chat-file-button:hover {\n  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n}\n\n/* Dark mode follow-up questions */\n.chat-window.dark-mode .chat-message-bot li {\n  background: rgba(5, 150, 105, 0.1);\n  border: 1px solid rgba(5, 150, 105, 0.2);\n  color: #f9fafb;\n}\n\n.chat-window.dark-mode .chat-message-bot li:hover {\n  background: rgba(5, 150, 105, 0.2);\n  border-color: rgba(5, 150, 105, 0.3);\n}\n\n.chat-window.dark-mode .chat-message-bot h3,\n.chat-window.dark-mode .chat-message-bot h4 {\n  color: #10b981;\n  border-bottom: 2px solid rgba(16, 185, 129, 0.3);\n}\n\n.chat-window.dark-mode .chat-message-bot ol li::before {\n  background: #059669;\n  color: #ffffff;\n}\n\n.chat-window.dark-mode .chat-message-bot ul li::before {\n  color: #10b981;\n}\n\n.chat-window.dark-mode .chat-message-bot .copy-all-questions {\n  background: linear-gradient(135deg, #059669 0%, #047857 100%);\n}\n\n.chat-window.dark-mode .chat-message-bot .copy-all-questions:hover {\n  background: linear-gradient(135deg, #047857 0%, #065f46 100%);\n}\n\n/* Toggle button click animation */\n.chat-header::before:active {\n  transform: scale(0.95);\n  transition: transform 0.1s ease;\n}\n\n/* Mobile responsive for dark mode toggle */\n@media (max-width: 480px) {\n  .theme-toggle-btn {\n    width: 40px;\n    height: 40px;\n    font-size: 1.5rem;\n    top: 1rem;\n    right: 1rem;\n  }\n}\n\n/* Soil texture background - More pronounced */\n.chat-body {\n  background-image: \n    radial-gradient(circle at 20% 80%, rgba(139, 69, 19, 0.15) 0%, transparent 50%),\n    radial-gradient(circle at 80% 20%, rgba(21, 128, 61, 0.15) 0%, transparent 50%),\n    linear-gradient(135deg, #f7fee7 0%, #ecfccb 50%, #d9f99d 100%);\n}\n\n/* Enhanced focus states - More visible */\n.chat-input:focus {\n  box-shadow: \n    0 0 0 4px rgba(21, 128, 61, 0.3),\n    0 10px 30px -5px rgba(21, 128, 61, 0.2);\n  border-color: #15803d;\n  transform: scale(1.02);\n}\n\n/* Auto-expanding input field - Compact */\n.chat-input,\n.chat-textarea,\ntextarea.chat-input {\n  min-height: 45px;\n  max-height: 120px;\n  resize: none;\n  overflow-y: auto;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  font-size: 0.9rem;\n  font-weight: 400;\n  font-family: 'Inter', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif;\n  letter-spacing: 0.01em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.chat-input:focus,\n.chat-textarea:focus,\ntextarea.chat-input:focus {\n  min-height: 45px;\n  max-height: 120px;\n}\n\n/* Auto-expanding input field - Much More Compact */\n.chat-input,\n.chat-textarea,\ntextarea.chat-input {\n  min-height: 40px;\n  max-height: 100px;\n  resize: none;\n  overflow-y: auto;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  font-size: 0.8rem;\n  font-weight: 400;\n  font-family: 'Inter', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif;\n  letter-spacing: 0.01em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.chat-input:focus,\n.chat-textarea:focus,\ntextarea.chat-input:focus {\n  min-height: 40px;\n  max-height: 100px;\n}\n\n/* Input container styling - Compact */\n.chat-input-container {\n  display: flex;\n  align-items: flex-end;\n  gap: 0.5rem;\n  padding: 0.75rem;\n  background: linear-gradient(135deg, #14532d 0%, #15803d 100%);\n  border-top: 2px solid rgba(255, 255, 255, 0.3);\n}\n\n/* Input container styling - Much More Compact */\n.chat-input-container {\n  display: flex;\n  align-items: flex-end;\n  gap: 0.375rem;\n  padding: 0.5rem;\n  background: linear-gradient(135deg, #14532d 0%, #15803d 100%);\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n/* Send button styling - Larger */\n.chat-send-button {\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  font-size: 1.2rem;\n}\n\n.chat-send-button:hover {\n  background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  transform: scale(1.1);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);\n}\n\n.chat-send-button:active {\n  transform: scale(0.95);\n}\n\n/* File button styling - Larger */\n.chat-file-button {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  font-size: 1.1rem;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.chat-file-button:hover {\n  background: linear-gradient(135deg, #b45309 0%, #92400e 100%);\n  transform: scale(1.1);\n}\n\n/* Send button styling - Compact */\n.chat-send-button {\n  width: 38px;\n  height: 38px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n  font-size: 1rem;\n}\n\n.chat-send-button:hover {\n  background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  transform: scale(1.05);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.chat-send-button:active {\n  transform: scale(0.95);\n}\n\n/* File button styling - Compact */\n.chat-file-button {\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  font-size: 0.9rem;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n}\n\n.chat-file-button:hover {\n  background: linear-gradient(135deg, #b45309 0%, #92400e 100%);\n  transform: scale(1.05);\n}\n\n/* Send button styling - Much More Compact */\n.chat-send-button {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);\n  font-size: 0.875rem;\n}\n\n.chat-send-button:hover {\n  background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  transform: scale(1.05);\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n}\n\n.chat-send-button:active {\n  transform: scale(0.95);\n}\n\n/* File button styling - Much More Compact */\n.chat-file-button {\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #d97706 0%, #b45309 100%);\n  border: none;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n  font-size: 0.8rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);\n}\n\n.chat-file-button:hover {\n  background: linear-gradient(135deg, #b45309 0%, #92400e 100%);\n  transform: scale(1.05);\n}\n\n/* Placeholder styling - More visible */\n.chat-input::placeholder {\n  color: #65a30d;\n  opacity: 0.8;\n  font-style: italic;\n  font-weight: 500;\n}\n\n/* Input field responsive behavior - Better for mobile */\n@media (max-width: 480px) {\n  .chat-input,\n  .chat-textarea,\n  textarea.chat-input {\n    min-height: 44px;\n    max-height: 120px;\n    font-size: 1rem;\n    padding: 0.75rem 1rem;\n  }\n  \n  .chat-send-button {\n    width: 40px;\n    height: 40px;\n    font-size: 1.1rem;\n  }\n  \n  .chat-file-button {\n    width: 36px;\n    height: 36px;\n    font-size: 1rem;\n  }\n}\n\n/* Success message styling */\n.chat-message-success {\n  background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);\n  border: 2px solid #16a34a;\n  color: #14532d;\n}\n\n.chat-message-success::before {\n  content: '✅';\n  position: absolute;\n  top: -8px;\n  left: -8px;\n  font-size: 1.5rem;\n}\n\n/* Warning message styling */\n.chat-message-warning {\n  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\n  border: 2px solid #f59e0b;\n  color: #92400e;\n}\n\n.chat-message-warning::before {\n  content: '⚠️';\n  position: absolute;\n  top: -8px;\n  left: -8px;\n  font-size: 1.5rem;\n}\n\n/* Website Configuration Modal Styles */\n.website-config-modal {\nposition: fixed;\ntop: 50%;\nleft: 50%;\ntransform: translate(-50%, -50%);\nwidth: 90%;\nmax-width: 600px;\nbackground: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\nborder-radius: 1.5rem;\nbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\nz-index: 10000;\noverflow: hidden;\nborder: 1px solid rgba(99, 102, 241, 0.1);\n}\n\n.website-config-modal::before {\ncontent: '';\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 6px;\nheight: 100%;\nbackground: linear-gradient(135deg, #f97316 0%, #6366f1 100%);\n}\n\n.website-config-header {\ndisplay: flex;\nalign-items: center;\npadding: 1.5rem 2rem 1rem;\nborder-bottom: 1px solid rgba(99, 102, 241, 0.1);\n}\n\n.website-config-logo {\nwidth: 40px;\nheight: 40px;\nbackground: linear-gradient(135deg, #6366f1 0%, #5855eb 100%);\nborder-radius: 50%;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nmargin-right: 1rem;\nbox-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.2);\n}\n\n.website-config-logo::after {\ncontent: '';\nwidth: 16px;\nheight: 16px;\nbackground: white;\nborder-radius: 2px;\n}\n\n.website-config-nav {\ndisplay: flex;\ngap: 2rem;\nmargin-left: auto;\n}\n\n.website-config-nav-item {\ncolor: #64748b;\nfont-size: 0.875rem;\nfont-weight: 500;\ntext-decoration: none;\ntransition: color 0.2s ease;\n}\n\n.website-config-nav-item:hover {\ncolor: #6366f1;\n}\n\n.website-config-content {\npadding: 2rem;\n}\n\n.website-config-title {\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ngap: 0.75rem;\nmargin-bottom: 0.5rem;\n}\n\n.website-config-title h1 {\nfont-size: 1.75rem;\nfont-weight: 600;\ncolor: #1e293b;\nmargin: 0;\n}\n\n.website-config-title-icon {\nwidth: 24px;\nheight: 24px;\nbackground: linear-gradient(135deg, #6366f1 0%, #5855eb 100%);\nborder-radius: 50%;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nposition: relative;\n}\n\n.website-config-title-icon::before {\ncontent: '';\nwidth: 12px;\nheight: 12px;\nborder: 2px solid white;\nborder-radius: 50%;\nposition: relative;\n}\n\n.website-config-title-icon::after {\ncontent: '';\nposition: absolute;\nwidth: 2px;\nheight: 2px;\nbackground: white;\nborder-radius: 50%;\ntop: 50%;\nleft: 50%;\ntransform: translate(-50%, -50%);\n}\n\n.website-config-subtitle {\ntext-align: center;\ncolor: #64748b;\nfont-size: 1rem;\nmargin-bottom: 2rem;\nline-height: 1.6;\n}\n\n.website-config-form {\ndisplay: flex;\nflex-direction: column;\ngap: 1.5rem;\n}\n\n.website-config-input-group {\nposition: relative;\n}\n\n.website-config-input-label {\ndisplay: flex;\nalign-items: center;\ngap: 0.5rem;\nmargin-bottom: 0.75rem;\nfont-weight: 500;\ncolor: #374151;\n}\n\n.website-config-input-hint {\nwidth: 20px;\nheight: 20px;\nbackground: linear-gradient(135deg, #f97316 0%, #ea580c 100%);\nborder-radius: 50%;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ncolor: white;\nfont-size: 0.75rem;\nfont-weight: bold;\ncursor: help;\ntransition: transform 0.2s ease;\n}\n\n.website-config-input-hint:hover {\ntransform: scale(1.1);\n}\n\n.website-config-input {\nwidth: 100%;\npadding: 1rem 1.25rem;\nborder: 2px solid #e2e8f0;\nborder-radius: 0.75rem;\nfont-size: 1rem;\ncolor: #1e293b;\nbackground: white;\ntransition: all 0.2s ease;\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.website-config-input:focus {\noutline: none;\nborder-color: #6366f1;\nbox-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\n}\n\n.website-config-dropdown {\nposition: relative;\ndisplay: inline-block;\nmin-width: 200px;\n}\n\n.website-config-dropdown-button {\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nwidth: 100%;\npadding: 1rem 1.25rem;\nborder: 2px solid #e2e8f0;\nborder-radius: 0.75rem;\nbackground: white;\ncolor: #1e293b;\nfont-size: 1rem;\ncursor: pointer;\ntransition: all 0.2s ease;\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.website-config-dropdown-button:hover {\nborder-color: #6366f1;\n}\n\n.website-config-dropdown-button::after {\ncontent: '▼';\nfont-size: 0.75rem;\ncolor: #64748b;\ntransition: transform 0.2s ease;\n}\n\n.website-config-dropdown.active .website-config-dropdown-button::after {\ntransform: rotate(180deg);\n}\n\n.website-config-dropdown-menu {\nposition: absolute;\ntop: 100%;\nleft: 0;\nright: 0;\nbackground: white;\nborder: 2px solid #e2e8f0;\nborder-radius: 0.75rem;\nbox-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);\nz-index: 1000;\nopacity: 0;\nvisibility: hidden;\ntransform: translateY(-10px);\ntransition: all 0.2s ease;\nmargin-top: 0.5rem;\n}\n\n.website-config-dropdown.active .website-config-dropdown-menu {\nopacity: 1;\nvisibility: visible;\ntransform: translateY(0);\n}\n\n.website-config-dropdown-item {\npadding: 1rem 1.25rem;\ncursor: pointer;\ntransition: background-color 0.2s ease;\nborder-bottom: 1px solid #f1f5f9;\n}\n\n.website-config-dropdown-item:last-child {\nborder-bottom: none;\n}\n\n.website-config-dropdown-item:hover {\nbackground-color: #f8fafc;\n}\n\n.website-config-dropdown-item.selected {\nbackground-color: #f0f9ff;\ncolor: #6366f1;\n}\n\n.website-config-dropdown-item-title {\nfont-weight: 500;\nmargin-bottom: 0.25rem;\ndisplay: flex;\nalign-items: center;\ngap: 0.5rem;\n}\n\n.website-config-dropdown-item-title::before {\ncontent: '✓';\ncolor: #6366f1;\nfont-weight: bold;\nopacity: 0;\ntransition: opacity 0.2s ease;\n}\n\n.website-config-dropdown-item.selected .website-config-dropdown-item-title::before {\nopacity: 1;\n}\n\n.website-config-dropdown-item-description {\nfont-size: 0.875rem;\ncolor: #64748b;\nline-height: 1.5;\n}\n\n.website-config-actions {\ndisplay: flex;\njustify-content: flex-end;\ngap: 1rem;\nmargin-top: 2rem;\npadding-top: 1.5rem;\nborder-top: 1px solid #e2e8f0;\n}\n\n.website-config-button {\npadding: 0.75rem 1.5rem;\nborder-radius: 0.75rem;\nfont-weight: 500;\nfont-size: 0.95rem;\ncursor: pointer;\ntransition: all 0.2s ease;\nborder: none;\n}\n\n.website-config-button-secondary {\nbackground: white;\ncolor: #64748b;\nborder: 2px solid #e2e8f0;\n}\n\n.website-config-button-secondary:hover {\nbackground: #f8fafc;\nborder-color: #cbd5e1;\n}\n\n.website-config-button-primary {\nbackground: linear-gradient(135deg, #6366f1 0%, #5855eb 100%);\ncolor: white;\nbox-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.2);\n}\n\n.website-config-button-primary:hover {\nbackground: linear-gradient(135deg, #5855eb 0%, #4f46e5 100%);\ntransform: translateY(-1px);\nbox-shadow: 0 8px 15px -3px rgba(99, 102, 241, 0.3);\n}\n\n/* Modal overlay */\n.website-config-overlay {\nposition: fixed;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\nbackground: rgba(0, 0, 0, 0.5);\nbackdrop-filter: blur(4px);\nz-index: 9999;\nopacity: 0;\nvisibility: hidden;\ntransition: all 0.3s ease;\n}\n\n.website-config-overlay.active {\nopacity: 1;\nvisibility: visible;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n.website-config-modal {\n  width: 95%;\n  margin: 1rem;\n}\n\n.website-config-content {\n  padding: 1.5rem;\n}\n\n.website-config-nav {\n  display: none;\n}\n\n.website-config-actions {\n  flex-direction: column;\n}\n\n.website-config-button {\n  width: 100%;\n}\n}\n\n/* Global font styling for the entire chat interface */\n.chat-window,\n.chat-header,\n.chat-body,\n.chat-footer,\n.chat-input-area {\n  font-family: 'Inter', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* Header title and subtitle spacing */\n.chat-header h1,\n.chat-header .chat-heading {\n  margin-bottom: 0.25rem !important;\n  margin-top: 0 !important;\n  line-height: 1.2 !important;\n}\n\n.chat-header p,\n.chat-header .chat-subtitle {\n  margin-top: 0.25rem !important;\n  margin-bottom: 0 !important;\n  line-height: 1.3 !important;\n  font-size: 1rem !important;\n}\n\n/* Compact header layout */\n.chat-header {\n  padding: 1.25rem 1.75rem !important;\n}\n\n.chat-header > * {\n  margin: 0 !important;\n}\n\n.chat-header > * + * {\n  margin-top: 0.25rem !important;\n}\n\n/* Much More Compact header layout */\n.chat-header {\n  padding: 0.75rem 1rem !important;\n}\n\n.chat-header > * {\n  margin: 0 !important;\n}\n\n.chat-header > * + * {\n  margin-top: 0.125rem !important;\n}\n\n/* Follow-up questions with copy buttons */\n.chat-message-bot ol,\n.chat-message-bot ul {\n  margin: 1rem 0;\n  padding-left: 1.5rem;\n}\n\n.chat-message-bot li {\n  position: relative;\n  margin-bottom: 0.75rem;\n  padding: 0.75rem 1rem;\n  background: rgba(21, 128, 61, 0.05);\n  border: 1px solid rgba(21, 128, 61, 0.1);\n  border-radius: 0.75rem;\n  transition: all 0.2s ease;\n  cursor: pointer;\n}\n\n.chat-message-bot li:hover {\n  background: rgba(21, 128, 61, 0.1);\n  border-color: rgba(21, 128, 61, 0.2);\n  transform: translateX(4px);\n}\n\n/* Copy button for follow-up questions */\n.chat-message-bot li::after {\n  content: '📋';\n  position: absolute;\n  top: 50%;\n  right: 0.75rem;\n  transform: translateY(-50%);\n  font-size: 1rem;\n  opacity: 0.6;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.chat-message-bot li:hover::after {\n  opacity: 1;\n  transform: translateY(-50%) scale(1.1);\n  background: rgba(255, 255, 255, 0.95);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n\n/* Copy button animation */\n.chat-message-bot li.copied::after {\n  content: '✅';\n  background: #16a34a;\n  color: white;\n  animation: copySuccess 0.6s ease;\n}\n\n@keyframes copySuccess {\n  0% { transform: translateY(-50%) scale(1); }\n  50% { transform: translateY(-50%) scale(1.2); }\n  100% { transform: translateY(-50%) scale(1); }\n}\n\n/* Follow-up questions section styling */\n.chat-message-bot h3,\n.chat-message-bot h4 {\n  color: #15803d;\n  font-weight: 600;\n  margin: 1.5rem 0 1rem 0;\n  font-size: 1.1rem;\n  border-bottom: 2px solid rgba(21, 128, 61, 0.2);\n  padding-bottom: 0.5rem;\n}\n\n/* Numbered list styling */\n.chat-message-bot ol li {\n  counter-increment: question-counter;\n  padding-left: 2.5rem;\n}\n\n.chat-message-bot ol li::before {\n  content: counter(question-counter);\n  position: absolute;\n  left: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #15803d;\n  color: white;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.875rem;\n  font-weight: 600;\n  box-shadow: 0 2px 4px rgba(21, 128, 61, 0.3);\n}\n\n/* Bullet list styling */\n.chat-message-bot ul li {\n  padding-left: 2.5rem;\n}\n\n.chat-message-bot ul li::before {\n  content: '•';\n  position: absolute;\n  left: 0.75rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #15803d;\n  font-size: 1.5rem;\n  font-weight: bold;\n}\n\n/* Copy all button */\n.chat-message-bot .copy-all-questions {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 1rem 0;\n  padding: 0.75rem 1.25rem;\n  background: linear-gradient(135deg, #15803d 0%, #166534 100%);\n  color: white;\n  border: none;\n  border-radius: 0.75rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 4px 8px rgba(21, 128, 61, 0.2);\n}\n\n.chat-message-bot .copy-all-questions:hover {\n  background: linear-gradient(135deg, #166534 0%, #14532d 100%);\n  transform: translateY(-1px);\n  box-shadow: 0 6px 12px rgba(21, 128, 61, 0.3);\n}\n\n.chat-message-bot .copy-all-questions:active {\n  transform: translateY(0);\n}\n\n.chat-message-bot .copy-all-questions::before {\n  content: '📋';\n  font-size: 1rem;\n}\n\n/* Success message for copy */\n.chat-message-bot .copy-success {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background: #16a34a;\n  color: white;\n  padding: 0.75rem 1.25rem;\n  border-radius: 0.75rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n  box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);\n  z-index: 10000;\n  animation: slideInRight 0.3s ease;\n}\n\n@keyframes slideInRight {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* Mobile responsive for copy buttons */\n@media (max-width: 480px) {\n  .chat-message-bot li {\n    padding: 0.5rem 0.75rem;\n    margin-bottom: 0.5rem;\n  }\n  \n  .chat-message-bot li::after {\n    width: 24px;\n    height: 24px;\n    font-size: 0.875rem;\n    right: 0.5rem;\n  }\n  \n  .chat-message-bot ol li,\n  .chat-message-bot ul li {\n    padding-left: 2rem;\n  }\n  \n  .chat-message-bot ol li::before {\n    width: 20px;\n    height: 20px;\n    font-size: 0.75rem;\n    left: 0.5rem;\n  }\n  \n  .chat-message-bot ul li::before {\n    left: 0.5rem;\n    font-size: 1.25rem;\n  }\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -928,
        800
      ],
      "id": "9ed1957c-f433-4848-bfa4-3e8874272c6a",
      "name": "When chat message received",
      "webhookId": "ede74737-0e2e-42ac-9fbc-2a5aeed8d930",
      "alwaysOutputData": false,
      "notesInFlow": false
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "whatsapp",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -928,
        976
      ],
      "id": "481570b2-e3f0-434e-bcdd-48bd49df573a",
      "name": "Webhook",
      "webhookId": "e6403ee7-e055-43b1-b5f6-23df506cd4e5"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.twilio.com/2010-04-01/Accounts/ACb484fca58f4d95940a79f17776ed5cd5/Messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "authorization",
              "value": "Basic QUNiNDg0ZmNhNThmNGQ5NTk0MGE3OWYxNzc3NmVkNWNkNTo5MWRhZDMyZGI2MGViNjEzZTkwNWZiMTk0NWZmZmEyNA=="
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "To",
              "value": "={{ $('Webhook').item.json.body.From }}"
            },
            {
              "name": "From",
              "value": "={{ $('Webhook').item.json.body.To }}"
            },
            {
              "name": "Body",
              "value": "={{ $json.message }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2944,
        1184
      ],
      "id": "8b2d960f-5c7d-4f83-a6b2-5106515ed29f",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.final_input }}",
        "options": {
          "systemMessage": "You are a helpful assistant.  \nBased on the user's input, identify the intent and fetch relevant information only from available agents.\n\nUse the user’s query to determine what kind of information is being requested.\n\nOnly respond with information that can be retrieved from agents that are currently available.\n\nDo not fabricate or hallucinate any information.\n\nIf no relevant agent is available or the user input lacks clarity, return:  \nResponse: No relevant information found or no agent available.\n\nIf the message is a greeting (e.g., \"hi\", \"hello\", \"hey\"), respond politely with an appropriate greeting in return.\n\nUser Input: {{ $json.final_input }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        752,
        816
      ],
      "id": "75f08b7b-de71-41a0-b134-8d9043dc4224",
      "name": "agriculture Agent"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b5685e9b-fcbe-4949-9b3c-d9ed121a3fdf",
              "leftValue": "={{ $('Edit Fields2').item.json.source }}",
              "rightValue": "=chat",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3072,
        784
      ],
      "id": "9be45b47-d9f3-4829-b820-d69d64ef55f5",
      "name": "If2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "2fcf6bbf-0b37-4874-b768-b0ecec13d9b7",
              "name": "source",
              "value": "chat",
              "type": "string"
            },
            {
              "id": "26adfd91-352d-4dff-8c23-39ca005c8a29",
              "name": "input1",
              "value": "={{ $json.chatInput }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -688,
        816
      ],
      "id": "5f13be16-ff98-474b-a4b5-0f170f2d520e",
      "name": "chat source"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "07aade67-c3f2-4ecd-8e9b-36f8e60121da",
              "name": "source",
              "value": "webhook",
              "type": "string"
            },
            {
              "id": "67a4e346-c80d-4dce-8daf-6533a5fdb4c6",
              "name": "input1",
              "value": "={{ $json.body.Body }}",
              "type": "string"
            },
            {
              "id": "d8b5efb6-0cc0-47a0-95ea-aff523aaac8a",
              "name": "sessionId",
              "value": "={{ $json.body.From }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -688,
        976
      ],
      "id": "a5492e5c-dcbc-432d-a09d-f8acf96fbe71",
      "name": "webhook source"
    },
    {
      "parameters": {
        "description": "This agent provides information on pesticides and herbicides used in Indian agriculture, including their name, target pest or disease, and crop usage context.",
        "workflowId": {
          "__rl": true,
          "value": "uuLuwHqYHoUilOro",
          "mode": "list",
          "cachedResultName": "pest and disease agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        656,
        1280
      ],
      "id": "5b66be0c-3c80-44f4-ac2e-48d4b75e8823",
      "name": "pest and diseases agent"
    },
    {
      "parameters": {
        "description": "This agent answers questions about monthly rainfall amounts (in millimeters) for different regions of India in a given year.\nThe dataset includes observed rainfall for India as a whole and for four major regions—North West India, Central India, South Peninsula, and East & North-East India—with separate values for each month (January to December).\nThis agent provides numeric answers directly from the dataset and can calculate monthly comparisons, totals, or trends when requested.",
        "workflowId": {
          "__rl": true,
          "value": "6TLlhocm4UHktOZv",
          "mode": "list",
          "cachedResultName": "weather And rainfall Agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        816,
        1264
      ],
      "id": "65c7c6ce-77bc-41fa-993f-e8df351017cc",
      "name": "weather and rainfall agent"
    },
    {
      "parameters": {
        "description": "This dataset contains information on key Indian agriculture finance and subsidy schemes as of 2025",
        "workflowId": {
          "__rl": true,
          "value": "aFmrm7XgRepqOb4e",
          "mode": "list",
          "cachedResultName": "finance and policy agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        960,
        1312
      ],
      "id": "a6d371cc-0298-4c4b-83eb-936e6462a32b",
      "name": "finance and policy agent"
    },
    {
      "parameters": {
        "description": "The dataset shows how much of each crop is available for sale after harvest, how much is lost, and what prices farmers get in different parts of India",
        "workflowId": {
          "__rl": true,
          "value": "56CKj2lWXNbUw9G6",
          "mode": "list",
          "cachedResultName": "market and post harvest agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1072,
        1232
      ],
      "id": "172fc9ce-8179-4adb-b456-0eb89c44282f",
      "name": "market and post harvest agent"
    },
    {
      "parameters": {
        "description": "This agent fetches detailed soil data based on specific input parameters related to crop growth stages. It provides critical soil information such as moisture levels, drainage quality, nutrient availability, and texture to support effective decision-making and optimize crop health.\nUse this agent to retrieve accurate and actionable soil insights tailored to crop types and growth phases, enabling improved agricultural outcomes.",
        "workflowId": {
          "__rl": true,
          "value": "mIOlatZgU8LAXYB1",
          "mode": "list",
          "cachedResultName": "soil agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1200,
        1344
      ],
      "id": "9c1adc32-f68b-4694-b380-abbc8e85df2b",
      "name": "soil agent"
    },
    {
      "parameters": {
        "description": "Weather Agent: Returns current weather or 5-day forecast for a given location.\nRequires location and api (\"get_current_weather_by_city\" or \"get_weather_forecast_by_city\").",
        "workflowId": {
          "__rl": true,
          "value": "lYdAafAmszo5iAvo",
          "mode": "list",
          "cachedResultName": "weather agent2"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "api": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('api', ``, 'string') }}",
            "location": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('location', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "api",
              "displayName": "api",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "location",
              "displayName": "location",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1296,
        1232
      ],
      "id": "6765dc7b-8cef-4390-b3ee-7ca3c345bbdb",
      "name": "weather agent"
    },
    {
      "parameters": {
        "description": "This dataset contains information about various crop varieties cultivated in different states or regions, along with their key characteristics or uses.",
        "workflowId": {
          "__rl": true,
          "value": "HinT2yedbQ39pLDN",
          "mode": "list",
          "cachedResultName": "crop and  varieties agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "chatInput": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('chatInput', ``, 'string') }}"
          },
          "matchingColumns": [
            "chatInput"
          ],
          "schema": [
            {
              "id": "chatInput",
              "displayName": "chatInput",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1440,
        1312
      ],
      "id": "09e85999-04d6-4a94-82d1-d8cd6f5624bf",
      "name": "crop and varieties agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1648,
        1184
      ],
      "id": "79f10e93-06bb-45ad-9029-159de922bb9b",
      "name": "OpenAI Chat Model4",
      "credentials": {
        "openAiApi": {
          "id": "YmVEpJdwSiBjPaX5",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.output }}",
        "options": {
          "systemMessage": "Given the user’s original question, the main answer provided, and any additional relevant information, generate at least 3 small, simple follow-up suggestion questions that:\n\nBreak down complex ideas into easy-to-understand parts\n\nAre clear, concise, and natural\n\nHelp the user explore related agricultural concepts\n\nGradually deepen their understanding\n\nNumber each question (e.g., 1, 2, 3, ...).\n\nIf the output is \"No relevant information found.\" or \"I don't have specific information.\", return an empty string: \"\"\n\nAre concise (≤ 12 words each), simple, and non-jargony."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1760,
        784
      ],
      "id": "94bf6fa7-d862-4309-821e-34ae3672e9da",
      "name": "follow up questions agent"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.output }}",
        "options": {
          "systemMessage": "=If {{ $json.output }} returns something like \"No relevant information found\" or \"I don't have specific information\", do not check or fetch data from agents.\nOnly fetch data from relevant agents if there are meaningful intents detected in the output."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1472,
        816
      ],
      "id": "4972793b-c10d-4432-be26-947c669a6e30",
      "name": "fetching relavant i fnor from DB from output"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.output }}",
        "options": {
          "systemMessage": "=You are an assistant that extracts important keywords from text related to agriculture.\nGiven the following answer, extract 3 to 5 specific and meaningful keywords or concepts that are explicitly mentioned in the text.\nIf the answer lacks agricultural context or is too vague (e.g., generic apologies, missing information), return:\nKeywords: Response: No relevant information found or no agent available. or No relevant information found.\nAnswer: {{ $json.output }}\n\nKeywords:\n1.\n2.\n3."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1072,
        816
      ],
      "id": "e69cc7f7-94ff-4632-ac07-1b8cdfee7749",
      "name": "fetching intents"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c31f684f-0025-4fc3-8134-81bc337e324c",
              "name": "agri_output",
              "value": "={{ $('agriculture Agent').item.json.output }} \n\nDo you want to know more?\n\n{{ $json.output }}",
              "type": "string"
            },
            {
              "id": "bf93c459-cbaf-42bb-a1a7-15555ea7bc18",
              "name": "",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2096,
        768
      ],
      "id": "6ef16c9b-624c-4909-aaff-03aecc76cc6b",
      "name": "combinig"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "37008066-fc84-4391-aceb-efd65a6e5a73",
              "leftValue": "={{ $('Edit Fields1').item.json.source_language }}",
              "rightValue": "en-IN",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2304,
        768
      ],
      "id": "8d4a13a0-f524-4be5-89ee-841239b7cd9b",
      "name": "If5"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.sarvam.ai/translate",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "api-subscription-key",
              "value": "sk_3xcldvun_Lo8XmClsM72oLYLMldJWVWIN"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "input",
              "value": "={{ $json.agri_output }}"
            },
            {
              "name": "source_language_code",
              "value": "en-IN"
            },
            {
              "name": "target_language_code",
              "value": "={{ $('Edit Fields1').item.json.source_language }}"
            },
            {
              "name": "mode",
              "value": "formal"
            },
            {
              "name": "model",
              "value": "sarvam-translate:v1"
            },
            {
              "name": "numerals_format",
              "value": "native"
            },
            {
              "name": "speaker_gender",
              "value": "Male"
            },
            {
              "name": "enable_preprocessing",
              "value": "false"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2480,
        592
      ],
      "id": "49ac7a66-8af9-4a7d-aaac-6aa04ec36385",
      "name": "english to user language1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0fc2d304-5307-43f1-b0d1-ceb3814aeca4",
              "name": "agent_output",
              "value": "={{ $json[\"translated_text\"] || $json.agri_output }}",
              "type": "string"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": false,
          "dotNotation": false
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2656,
        784
      ],
      "id": "8d6c4d1a-3f44-4668-81e4-16f2c4f7f026",
      "name": "Edit Fields7",
      "alwaysOutputData": false,
      "notesInFlow": false
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nreturn items.map((item) => {\n  return {\n    json: {\n      message: item.json.agent_output\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2880,
        784
      ],
      "id": "5a107348-d89e-4fc5-8630-a033de0142cb",
      "name": "Code1"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('session id').item.json.result }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        560,
        1264
      ],
      "id": "6157ec46-8d9a-47ad-b80a-9b3cbaa382eb",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "jsCode": "const source = $(\"Edit Fields2\").first().json.source;\n\nif (source == \"chat\") {\n  return { result: $('When chat message received').first().json.sessionId };\n} else {\n  return { result: $(\"webhook source\").first().json.sessionId };\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -336,
        864
      ],
      "id": "9b702392-b4f9-43c3-b4c9-4b45bb103f7a",
      "name": "session id"
    }
  ],
  "pinData": {},
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "language identification API": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "language conversation  API": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "language conversation  API",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "agriculture Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "agriculture Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "session id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "chat source",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "webhook source",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "agriculture Agent": {
      "main": [
        [
          {
            "node": "fetching intents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [],
        [
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "chat source": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "webhook source": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "pest and diseases agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "weather and rainfall agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "finance and policy agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "market and post harvest agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "soil agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "weather agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "crop and varieties agent": {
      "ai_tool": [
        [
          {
            "node": "agriculture Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "fetching intents",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "follow up questions agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "fetching relavant i fnor from DB from output": {
      "main": [
        [
          {
            "node": "follow up questions agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "fetching intents": {
      "main": [
        [
          {
            "node": "fetching relavant i fnor from DB from output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "follow up questions agent": {
      "main": [
        [
          {
            "node": "combinig",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "combinig": {
      "main": [
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "english to user language1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "english to user language1": {
      "main": [
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields7": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        []
      ]
    },
    "session id": {
      "main": [
        [
          {
            "node": "language identification API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f8ab75e6-252b-49e2-95b0-2532fb87e920",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "12e1210318d2eb3dd24427f83c4648ba72010e086d8eac53cb423869335b030f"
  },
  "id": "qpLxuPprrKlzrWF3",
  "tags": []
}